<div class="container">
  <mat-card class="centered-card">

    <!-- Back button -->
    <div *ngIf="showCreateForm || showJoinForm" class="header-container">
      <button mat-icon-button (click)="onGoBack()"><mat-icon>arrow_back</mat-icon></button>
      <span class="centered-title">
        {{ showCreateForm ? 'New Game' : 'Join Game' }}
      </span>
    </div>

    <!-- Buttons -->
    <div *ngIf="!showCreateForm && !showJoinForm" class="button-container">
      <h1 class="mat-display-1">Let's get started!</h1>
      <button mat-raised-button color="accent" (click)="onCreateGame()">Create Game</button>
      <button mat-raised-button color="accent" (click)="onJoinGame()">Join Game</button>
    </div>

    <!-- Create Game Form -->
    <form *ngIf="showCreateForm" class="form-container" (ngSubmit)="submitCreateGame()" #createForm="ngForm">
      <mat-form-field>
        <mat-label>Proctor Type</mat-label>
        <mat-select [(ngModel)]="createGameRequest.gameSettings.proctorType" name="proctorType" >
          <mat-option *ngFor="let proctorType of ProctorTypes | keyvalue" [value]="proctorType.key">
            {{proctorType.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Game Mode</mat-label>
        <mat-select [(ngModel)]="createGameRequest.gameSettings.gameMode" name="gameMode" >
          <mat-option *ngFor="let gameMode of GameModes | keyvalue" [value]="gameMode.key">
            {{gameMode.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Player Name -->
      <mat-form-field>
        <mat-label>Your name</mat-label>
        <input matInput [(ngModel)]="joinGameRequest.name" name="playerName" #playerName="ngModel" required>
        <mat-error *ngIf="playerName.invalid && playerName.touched">
          Your name is required.
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="accent" type="submit" [disabled]="!createForm.valid">Create</button>
    </form>


  </mat-card>
</div>
